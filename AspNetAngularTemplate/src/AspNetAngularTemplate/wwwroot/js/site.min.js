!function(t){"use strict";var i=t.module("app",["ui.router","ngMaterial","home","userMenu"]);i.config(["$urlRouterProvider","$locationProvider","$stateProvider","$mdThemingProvider","$animateProvider",function(t,i,e,n,a){e.state("app",{"abstract":!0,template:"<div ui-view></div>"}),t.otherwise("/");var o=n.extendPalette("indigo",{contrastLightColors:["500"]});n.definePalette("indigo-custom",o);var l=n.extendPalette("green",{contrastLightColors:["500"]});n.definePalette("green-custom",l),n.theme("default").primaryPalette("indigo-custom",{"default":"500","hue-1":"700","hue-2":"100"}).accentPalette("green-custom",{"default":"500"}),a.classNameFilter(/^(?:(?!ng-animate-disabled).)*$/)}]),i.controller("AppCtrl",["$rootScope","$state",function(i,e){i.pageTitle="ASP.NET Angular Material Template",i.$on("$stateChangeSuccess",function(e,n){t.isDefined(n.data)&&t.isDefined(n.data.pageTitle)&&(i.pageTitle=n.data.pageTitle)}),i.gotoHome=function(){e.go("home")}}])}(window.angular),function(t,i){"use strict";var e=i.module("api",[]);e.factory("facilityApi",["$http",function(t){var i="/api/facilities";return{add:function(e){var n={name:e};return t.post(i,n)},getAll:function(){return t.get(i)},get:function(e){return t.get(i+"/"+e)},update:function(e,n){var a={name:n};return t.put(i+"/"+e,a)},remove:function(e){return t["delete"](i+"/"+e)}}}]),e.factory("accessPointApi",["$http",function(t){function i(t){return"/api/facilities/"+t+"/accesspoints"}return{add:function(e,n){var a={name:n};return t.post(i(e),a)},getAll:function(e){return t.get(i(e))},get:function(e,n){return t.get(i(e)+"/"+n)},update:function(e,n,a){var o={name:a};return t.put(i(e)+"/"+n,o)},remove:function(e,n){return t["delete"](i(e)+"/"+n)}}}])}(window,window.angular),function(t,i){"use strict";var e=i.module("facility",["ui.router","api"]);e.config(["$stateProvider",function(t){t.state("facilities",{url:"/facilities",templateUrl:"facilities.html",controller:"FacilitiesCtrl",data:{pageTitle:"Facilities List"}}).state("facility",{url:"/facilities/{id}/accesspoints",templateUrl:"facility.html",controller:"FacilityCtrl",data:{pageTitle:"Facility Details"}}).state("facility-update",{url:"/facilities/{id}/update",templateUrl:"facility-update.html",controller:"FacilityUpdateCtrl",data:{pageTitle:"Update Facility Details"}}).state("accesspoint-update",{url:"/facilities/{fid}/accesspoints/{id}/update",templateUrl:"accesspoint-update.html",controller:"AccessPointUpdateCtrl",data:{pageTitle:"Update Access Point Details"}})}]),e.controller("FacilitiesCtrl",["$scope","facilityApi","$mdDialog",function(t,e,n){function a(){t.loading=!0,e.getAll().then(function(i){t.facilities=i.data},function(t){console.error("Failed to load facilities: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to load facilities").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}t.facilities=[],t.loading=!1,a(),t.newFacility=function(o){n.show({controller:["$scope","$mdDialog",function(t,i){t.facility={},t.hide=function(){i.hide()},t.cancel=function(){i.cancel()},t.confirm=function(t){i.hide(t)}}],templateUrl:"new-facility-dialog.html",parent:i.element(document.body),targetEvent:o,clickOutsideToClose:!0,fullscreen:!1}).then(function(i){t.loading=!0,e.add(i.name).then(function(){a()},function(t){console.error("Failed to add new facility: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to add new facility").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})})}}]),e.controller("FacilityCtrl",["$scope","facilityApi","accessPointApi","$mdDialog","$stateParams","$state",function(t,e,n,a,o,l){function c(i){t.loading=!0,e.get(i).then(function(i){t.facility=i.data},function(t){console.error("Failed to load facility details: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to load facility details").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}function s(i){t.loading=!0,n.getAll(i).then(function(i){t.accessPoints=i.data},function(t){console.error("Failed to load facility access points: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to load access points").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}t.accessPoints=[],t.loading=!1,c(o.id),s(o.id),t.gotoFacilities=function(){l.go("facilities")},t.gotoUpdateFacility=function(){l.go("facility-update",{id:o.id})},t.newAccessPoint=function(e){a.show({controller:["$scope","$mdDialog",function(t,i){t.acessPoint={},t.hide=function(){i.hide()},t.cancel=function(){i.cancel()},t.confirm=function(t){i.hide(t)}}],templateUrl:"new-accesspoint-dialog.html",parent:i.element(document.body),targetEvent:e,clickOutsideToClose:!0,fullscreen:!1}).then(function(i){t.loading=!0,n.add(o.id,i.name).then(function(){s(o.id)},function(t){console.error("Failed to add new access point: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to add new access point").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})})}}]),e.controller("FacilityUpdateCtrl",["$scope","$stateParams","facilityApi","$mdDialog","$state",function(t,i,e,n,a){function o(i){t.loading=!0,e.get(i).then(function(i){t.facility=i.data},function(t){console.error("Failed to load facility details: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to load facility details").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}t.facility=null,t.loading=!1,o(i.id),t.gotoFacility=function(){a.go("facility",{id:i.id})},t.update=function(o){t.loading=!0,e.update(o.id,o.name).then(function(){n.show(n.alert().clickOutsideToClose(!0).title("Facility updated").content("All changes were saved successfully.").ok("Ok")),a.go("facility",{id:i.id})},function(t){console.error("Failed to update facility: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to update facility").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}}]),e.controller("AccessPointUpdateCtrl",["$scope","$stateParams","accessPointApi","$mdDialog","$state",function(t,i,e,n,a){function o(i,a){t.loading=!0,e.get(i,a).then(function(i){t.accessPoint=i.data},function(t){console.error("Failed to load access point details: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to load access point details").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}t.accessPoint=null,t.loading=!1,o(i.fid,i.id),t.gotoFacility=function(){a.go("facility",{id:i.fid})},t.update=function(o){t.loading=!0,e.update(i.fid,o.id,o.name).then(function(){n.show(n.alert().clickOutsideToClose(!0).title("Access Point updated").content("All changes were saved successfully.").ok("Ok")),a.go("facility",{id:i.fid})},function(t){console.error("Failed to update access point: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to update access point").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}}])}(window,window.angular),function(t,i){"use strict";var e=i.module("home",["ui.router","facility"]);e.config(["$stateProvider",function(t){t.state("home",{url:"/",templateUrl:"home.html",controller:"HomeCtrl",data:{pageTitle:"ASP.NET Angular Material Template"}})}]),e.controller("HomeCtrl",["$scope",function(t){}])}(window,window.angular),function(t,i){"use strict";var e=i.module("userMenu",[]);e.directive("appUserMenu",[function(){return{restrict:"EA",replace:!0,templateUrl:"user-menu.html",link:["$scope",function(t){}]}}])}(window,window.angular);