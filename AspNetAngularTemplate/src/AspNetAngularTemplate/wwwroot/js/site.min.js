!function(t){"use strict";var i=t.module("app",["ui.router","ngMaterial","home"]);i.config(["$urlRouterProvider","$locationProvider","$stateProvider","$mdThemingProvider",function(t,i,e,a){e.state("app",{"abstract":!0,template:"<div ui-view></div>"}),t.otherwise("/");var n=a.extendPalette("indigo",{contrastLightColors:["500"]});a.definePalette("indigo-custom",n);var o=a.extendPalette("green",{contrastLightColors:["500"]});a.definePalette("green-custom",o),a.theme("default").primaryPalette("indigo-custom",{"default":"500","hue-1":"700","hue-2":"100"}).accentPalette("green-custom",{"default":"500"})}]),i.controller("AppCtrl",["$rootScope","$state",function(i,e){i.pageTitle="ASP.NET Angular Material Template",i.$on("$stateChangeSuccess",function(e,a){t.isDefined(a.data)&&t.isDefined(a.data.pageTitle)&&(i.pageTitle=a.data.pageTitle)}),i.gotoHome=function(){e.go("home")}}])}(window.angular),function(t,i){"use strict";var e=i.module("api",[]);e.factory("facilityApi",["$http",function(t){var i="/api/facilities";return{add:function(e){var a={name:e};return t.post(i,a)},getAll:function(){return t.get(i)},get:function(e){return t.get(i+"/"+e)},update:function(e,a){var n={name:a};return t.put(i+"/"+e,n)},remove:function(e){return t["delete"](i+"/"+e)}}}]),e.factory("accessPointApi",["$http",function(t){function i(t){return"/api/facilities/"+t+"/accesspoints"}return{add:function(e,a){var n={name:a};return t.post(i(e),n)},getAll:function(e){return t.get(i(e))},get:function(e,a){return t.get(i(e)+"/"+a)},update:function(e,a,n){var o={name:n};return t.put(i(e)+"/"+a,o)},remove:function(e,a){return t["delete"](i(e)+"/"+a)}}}])}(window,window.angular),function(t,i){"use strict";var e=i.module("facility",["ui.router","api"]);e.config(["$stateProvider",function(t){t.state("facilities",{url:"/facilities",templateUrl:"facilities.html",controller:"FacilitiesCtrl",data:{pageTitle:"Facilities List"}}).state("facility",{url:"/facilities/{id}/accesspoints",templateUrl:"facility.html",controller:"FacilityCtrl",data:{pageTitle:"Facility Details"}}).state("facility-update",{url:"/facilities/{id}/update",templateUrl:"facility-update.html",controller:"FacilityUpdateCtrl",data:{pageTitle:"Update Facility Details"}}).state("accesspoint-update",{url:"/facilities/{fid}/accesspoints/{id}/update",templateUrl:"accesspoint-update.html",controller:"AccessPointUpdateCtrl",data:{pageTitle:"Update Access Point Details"}})}]),e.controller("FacilitiesCtrl",["$scope","facilityApi","$mdDialog",function(t,e,a){function n(){t.loading=!0,e.getAll().then(function(i){t.facilities=i.data},function(t){console.error("Failed to load facilities: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to load facilities").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}function o(t,i){t.facility={},t.hide=function(){i.hide()},t.cancel=function(){i.cancel()},t.confirm=function(t){i.hide(t)}}t.facilities=[],t.loading=!1,n(),t.newFacility=function(l){a.show({controller:o,templateUrl:"new-facility-dialog.html",parent:i.element(document.body),targetEvent:l,clickOutsideToClose:!0,fullscreen:!1}).then(function(i){t.loading=!0,e.add(i.name).then(function(){n()},function(t){console.error("Failed to add new facility: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to add new facility").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})})}}]),e.controller("FacilityCtrl",["$scope","facilityApi","accessPointApi","$mdDialog","$stateParams","$state",function(t,e,a,n,o,l){function c(i){t.loading=!0,e.get(i).then(function(i){t.facility=i.data},function(t){console.error("Failed to load facility details: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to load facility details").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}function s(i){t.loading=!0,a.getAll(i).then(function(i){t.accessPoints=i.data},function(t){console.error("Failed to load facility access points: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to load access points").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}function d(t,i){t.acessPoint={},t.hide=function(){i.hide()},t.cancel=function(){i.cancel()},t.confirm=function(t){i.hide(t)}}t.accessPoints=[],t.loading=!1,c(o.id),s(o.id),t.gotoFacilities=function(){l.go("facilities")},t.gotoUpdateFacility=function(){l.go("facility-update",{id:o.id})},t.newAccessPoint=function(e){n.show({controller:d,templateUrl:"new-accesspoint-dialog.html",parent:i.element(document.body),targetEvent:e,clickOutsideToClose:!0,fullscreen:!1}).then(function(i){t.loading=!0,a.add(o.id,i.name).then(function(){s(o.id)},function(t){console.error("Failed to add new access point: "+t.status),n.show(n.alert().clickOutsideToClose(!0).title("Failed to add new access point").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})})}}]),e.controller("FacilityUpdateCtrl",["$scope","$stateParams","facilityApi","$mdDialog","$state",function(t,i,e,a,n){function o(i){t.loading=!0,e.get(i).then(function(i){t.facility=i.data},function(t){console.error("Failed to load facility details: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to load facility details").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}t.facility=null,t.loading=!1,o(i.id),t.gotoFacility=function(){n.go("facility",{id:i.id})},t.update=function(o){t.loading=!0,e.update(o.id,o.name).then(function(){a.show(a.alert().clickOutsideToClose(!0).title("Facility updated").content("All changes were saved successfully.").ok("Ok")),n.go("facility",{id:i.id})},function(t){console.error("Failed to update facility: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to update facility").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}}]),e.controller("AccessPointUpdateCtrl",["$scope","$stateParams","accessPointApi","$mdDialog","$state",function(t,i,e,a,n){function o(i,n){t.loading=!0,e.get(i,n).then(function(i){t.accessPoint=i.data},function(t){console.error("Failed to load access point details: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to load access point details").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}t.accessPoint=null,t.loading=!1,o(i.fid,i.id),t.gotoFacility=function(){n.go("facility",{id:i.fid})},t.update=function(o){t.loading=!0,e.update(i.fid,o.id,o.name).then(function(){a.show(a.alert().clickOutsideToClose(!0).title("Access Point updated").content("All changes were saved successfully.").ok("Ok")),n.go("facility",{id:i.fid})},function(t){console.error("Failed to update access point: "+t.status),a.show(a.alert().clickOutsideToClose(!0).title("Failed to update access point").content("Try again.").ok("Ok"))})["finally"](function(){t.loading=!1})}}])}(window,window.angular),function(t,i){"use strict";var e=i.module("home",["ui.router","facility"]);e.config(["$stateProvider",function(t){t.state("home",{url:"/",templateUrl:"home.html",controller:"HomeCtrl",data:{pageTitle:"ASP.NET Angular Material Template"}})}]),e.controller("HomeCtrl",["$scope",function(t){t.text="Hello from Angular"}])}(window,window.angular);